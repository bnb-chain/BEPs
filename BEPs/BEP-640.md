<pre>
    BEP: 640
    Title: Optional Transaction Gas Limit Cap
    Status: Draft
    Type: Standards
    Created: 2025-12-10
    Description: Reduces network reorgs by limiting excessively large transactions.
</pre>

# BEP-640: Optional Transaction Gas Limit Cap

- [BEP-640: Optional Transaction Gas Limit Cap](#bep-640-optional-transaction-gas-limit-cap)
  - [1. Summary](#1-summary)
  - [2. Abstract](#2-abstract)
  - [3. Motivation](#3-motivation)
  - [4. Specification](#4-specification)
    - [Community Autonomy and Soft Cap Enforcement](#community-autonomy-and-soft-cap-enforcement)
    - [Smooth Transition Towards EIP-7825](#smooth-transition-towards-eip-7825)
  - [5. Backward Compatibility](#5-backward-compatibility)
  - [6. License](#6-license)

## 1. Summary

This BEP proposes an **optional, community-driven, non-protocol-level mechanism** to cap the maximum Gas Limit for individual transactions. The core objective is to **mitigate network reorganizations (reorgs)** caused by transactions with excessively long execution times, thereby enhancing BSC network **stability**.

## 2. Abstract

I/O-intensive transactions (e.g., using **$> 16,777,216$ gas**) exploit the underpricing of EVM I/O operations (like `SSTORE`). Their prolonged execution time often exceeds the block interval, leading to frequent **reorgs**. This BEP introduces **optional tooling and recommendation** to limit the per-transaction gas limit, serving as a **temporary, soft measure** before the potential implementation of a protocol-level solution like [**EIP-7825**](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-7825.md).

## 3. Motivation

The primary motivation is to **improve the stability and reliability** of the BSC network.

**Excessive execution time** for single, large transactions is the root cause of network instability. By shortening the block processing time, a soft cap on the maximum gas usage per transaction will significantly **reduce the frequency of destabilizing reorg events**, ensuring better network health. This solution is designed to be **lightweight** and deployable without a hard fork.

## 4. Specification

This BEP specifies a **recommended, off-chain** mechanism for limiting per-transaction gas usage, maintaining compatibility with the current **MEV-Boost/Auction mechanism**.

### Community Autonomy and Soft Cap Enforcement

Enforcement is at the full discretion of Validators and Builders.

  * **Validator Implementation:** Validators **SHOULD** implement an optional **client-side flag** to specify a max gas limit cap when building **non-bid blocks** (internal block production).
  * **Builder Discretion:** Builders in the MEV-Boost auction can **autonomously decide** whether to apply the cap when creating bids.
  * **Validation:** Validators **MUST NOT** perform extra gas limit checks on individual transactions within a **received bid block** to preserve compatibility with the auction process.

### Smooth Transition Towards EIP-7825

The cap aligns with the EIP-7825 limit to prepare the network for a future protocol update.

  * **Default Cap Value:** The **default value** for the optional client-side flag **SHOULD be $16,777,216$ ($2^{24}$)**.
  * **Builder Recommendation:** Builders are **recommended** to similarly cap the maximum gas limit of individual transactions they include in their bids at **$16,777,216$ ($2^{24}$)**.

## 5. Backward Compatibility

The impact is minimal, as transactions exceeding $16,777,216$ gas are a **very small percentage (approx. 0.3%%)** of all on-chain activity.

  * **Mitigation & Flexibility:** Validators and Builders **always have the option to opt-out** and maintain an unlimited gas limit cap. The non-protocol nature of this BEP allows for easy adjustment or disabling if community need for larger limits arises.

## 6. License

The content is licensed under [Creative Commons CC0 1.0 Universal License](https://creativecommons.org/publicdomain/zero/1.0/).